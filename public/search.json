[{"categories":null,"content":"Context I‚Äôve had a weird issues in my laptop (carbon x1) which suddenly started to hanging processes and the laptop‚Äôs monitor got laggy (e.g not showing in real time what I typed). I‚Äôm using i3 in a Pop!_OS.\nSolution I‚Äôve ended up in system76 article where they mention issues with external monitor and I‚Äôve found the following command which solved my problems:\n1  $ gsettings set com.system76.hidpi enable false    source: https://support.system76.com/articles/hidpi-multi-monitor/\n ","description":"","tags":null,"title":"bug(i3): display issues","uri":"/posts/i3-graphics-monitor-issues/"},{"categories":null,"content":"Me top√© con este video en YT cuya tesis principal es que aplicar las reglas de clean code hace que el c√≥digo sea lento.\nAqu√≠ el link üëá\n LINK ARTICULO + VIDEO  Summary  Clean code hace que el codigo sea mas lento. Las reglas de polimorfismo y no acoplamiento hace que perdamos 20 a√±os de avances de hardware.  Mi opinion  Me parece obvio que lo haga mas lento. Se a√±aden capas de abastracci√≥n y esto no es gratis. Ojo, tambi√©n podr√≠a ser mas r√°pido si el codigo estuviera desorganizado y hecho por muchas personas a la vez buscando incluir su propia funcionalidad sin coherencia. (dependende de la deuda tecnica). Existe un trade off entre mantenibilidad/readability vs performance y encontrar el equilibrio es lo que te hace senior. Clean code son unos principios que tienen mas o menos sentido aplicar dependiendo del proyecto. No todos los proyectos estan bien definidos y no sabes que es lo que va a contener. El ejemplo esta sesgado a que a priori sabes lo que busca y como hacerlo de forma eficiente (veo un cierto sesgo de confirmacion). Luego s√≠ que veo la ventaja de iterar sobre el mismo c√≥digo muchas veces. Cada vez me parece que la respuesta correcta es depende. Qu√© vas a construir? Es un proyecto grande o peque√±o? Lo tienes claro o no?  ","description":"","tags":null,"title":"bug(programming) Clean code es horriblemente lento","uri":"/posts/clean-code-es-lento/"},{"categories":null,"content":"La ley de Hotelling 1  from IPython.display import IFrame   1 2  IFrame(\"https://en.m.wikipedia.org/wiki/Hotelling%27s_law\", width=600, height=300)   1  IFrame(\"https://en.m.wikipedia.org/wiki/Location_model\", width=600, height=300)   Hotelling con 4 jugadores 1 2 3 4 5  %matplotlib inline import pandas as pd import numpy as np import matplotlib.pyplot as plt import seaborn as sns   1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96  def calc_profits(df, space): \"\"\"Calcula el beneficio\"\"\" try: lastcol = df.columns[-1] # last game df = df[lastcol].copy() # change dataframe to serie except: df = df.copy() # IF EACH FACTORY ARE ALONE if len(df.rank().unique()) == 4: # Each player on different space df = df.sort_values() # Values ordered, so index get useful profits = df.copy() # make profits variable as a copy, modify after profits.iloc[0] = (df.iloc[0] + df.iloc[1]) / 2 profits.iloc[1] = (df.iloc[2] - df.iloc[0]) / 2 profits.iloc[2] = (df.iloc[3] - df.iloc[1]) / 2 profits.iloc[3] = (2 * space - df.iloc[3] - df.iloc[2]) / 2 return profits # IF TWO FACTORY ARE TOGETHER elif len(df.rank().unique()) == 3: # Only two players on the same space df = df.sort_values() profits = df.copy() uniques = df.unique() # get unique values ns = [2 * len(df[df == v]) for v in uniques] # number of factories at the same place n1, n2, n3 = [df[df == v].index for v in uniques] # name of one factory for each group profits.loc[n1] = (df.loc[n1].values[0] + df.loc[n2].values[0]) / ns[0] profits.loc[n2] = (df.loc[n3].values[0] - df.loc[n1].values[0]) / ns[1] profits.loc[n3] = (2 * space - df.loc[n3].values[0] - df.loc[n2].values[0]) / ns[2] return profits # IF TWO FACTORY ARE IN TWO GROUPS elif len(df.rank().unique()) == 2: df = df.sort_values() profits = df.copy() uniques = df.unique() # get unique values n1, n2 = [df[df == v].index for v in uniques] # name of one factory for each group profits.loc[n1] = (df.loc[n1].values[0] + df.loc[n2].values[0]) / 4 profits.loc[n2] = (2 * space - df.loc[n2].values[0] - df.loc[n1].values[0]) / 4 return profits def new_game(df, space): import pandas as pd import numpy as np lastcol = df.columns[-1] space_ini = df[lastcol].copy() res = space_ini.copy() names = space_ini.index prof_ini = calc_profits(space_ini.copy(), space) step = 1 f = open('log.txt', 'a') br = '\\n' splt = '=' * 30 str_game = \"# GAME N¬∫ %s\" % (lastcol) for name in names: space_sum = space_ini.copy() space_sum[name] = space_sum[name] + step prof_sum = calc_profits(space_sum, space) space_subs = space_ini.copy() space_subs[name] = space_subs[name] - step prof_subs = calc_profits(space_subs, space) if space_subs[name] \u003c= 0: space_subs[name] = 0 elif space_sum[name] \u003e= space: space_sum[name] = space data = [prof_sum[name],prof_subs[name],prof_ini[name]] compar_profs = pd.Series(data=data,index=[\"sum\", \"subs\", \"ini\"]) best = compar_profs[compar_profs == compar_profs.max()].index[0] if len(compar_profs.unique()) == 1: best = \"ini\" elif all(compar_profs - compar_profs['ini'] \u003c= 0.4): compar_profs - compar_profs['ini'] compar_profs - compar_profs['ini'] \u003c= 0.4 best = \"ini\" store_spaces = {\"sum\": space_sum, \"subs\": space_subs, \"ini\": space_ini} res[name] = store_spaces[best][name] return res   1 2 3 4 5 6 7 8  space = 100 df = pd.DataFrame(index=(\"x1\", \"x2\", \"x3\", \"x4\")) df[0] = np.linspace(0, space-20, 4) games = 100 for g in range(1, games + 1): df[g] = new_game(df, space)   1 2 3 4 5  df.T.plot() plt.xlabel(\"Games\") plt.ylabel(\"Space\") sns.despine() plt.ylim(0,100)   1  df.iloc[:,-1]   1    ","description":"","tags":null,"title":"enh(economics): La ley de hotelling","uri":"/posts/hotelling/"},{"categories":null,"content":"\nPod√©is acceder al notebook aqu√≠. Tambi√©n pod√©is ejecutar el notebook online aqu√≠ o desde el badge al inicio del post. Si veis cualquier error o sugerencia, se aceptan PR! ;-)\nIntroducci√≥n Despu√©s de mucho tiempo sin escribir, he decidido retomar la divulgaci√≥n con algo que me parece muy √∫til, sobre todo durante la carrera me sirvi√≥ de gran ayuda, me refiero al c√°lculo simb√≥lico en Python!\nConcretamente, en este post resuelvo un ejercicio muy com√∫n en Microeconom√≠a, un mercado en competencia perfecta con varios paises con diferentes tecnolog√≠as (costes).\nMercado Mundial Competitivo Supongamos un mercado mundial competitivo [1], por un lado tenemos la oferta de cada una de la empresas que forman el mercado de cada pa√≠s y por otro la demanda mundial.\n[1]: Esto implica que los productores son precio-aceptantes, es decir, que el precio es una variable ex√≥gena para los productores.\nLa Oferta Supongamos que la oferta est√° formada por 3 pa√≠ses con tecnolog√≠as diferentes, en cada pa√≠s hay $N$ empresas cuya tecnolog√≠a est√° definida por su curva de costes, como muestra la tabla.\n   Pa√≠s¬† N empresas¬† Costes unitarios $C(q_i)$¬†     A 100 $= \\frac{q_a^2}{2} + 2q_a + 10$   B 50 $= \\frac{q_b^2}{10} + 3q_b + 12$   C 100 $= \\frac{q_c^2}{2} + 2$    La Demanda Por otra parte, los consumidores tienen una √∫nica demanda mundial y queda representada con la siguiente expresi√≥n:\n\\begin{equation} Q^D = 98650 - 19350 P \\end{equation}\nSe pide En un ejercicio t√≠pico nos suelen pedir hallar:\n Las cantidades producidas ($q_i$) de la empresa de cada pa√≠s. Beneficios ($\\pi_i$) Precio de Equilibrio ($p$)  1 2 3 4  from IPython.display import Markdown import numpy as np from sympy import * import matplotlib.pyplot as plt   1  init_printing()   1  %matplotlib inline   Muy bien definido el problema, lo primero que haremos ser√° crear las variables necesarias para resolverlo, esto lo hacemos con la funci√≥n symbols:\n1 2  # descomentar para ver la ayuda. # help(symbols)   1 2  # Se crean las variables necesarias qa, qb, qc, q, Qd, P, pi, Q = symbols('q_a q_b q_c q Q^d P p_i Q')   COSTES Una vez tenemos las variables vamos a definir la funciones de costes utilizando las variables anteriores.\n1 2  costes_a = qa ** 2 / 6 + 2 * qa + 10 costes_a   1 2  costes_b = qb ** 2 / 10 + 3 * qb + 12 costes_b   1 2  costes_c = qc ** 2 / 2 + 2 costes_c   DEMANDA Hacemos lo mismo con la demanda.\n1 2  q_dda = 98650 - 19350 * P q_dda   1 2  p_dda = solve(Eq(Q, q_dda), P)[-1] p_dda   OFERTA y por √∫ltimo con la oferta.\n1 2  q_oferta = 100 * qa + 50 * qb + 100 * qc q_oferta   Resoluci√≥n Una vez definidas todas las funciones ya podemos empezar a resolver el problema aplicando la teor√≠a econ√≥mica y un poco de programaci√≥n.\nBien, a partir de los costes podemos calcular los costes marginales, como las empresas son precio-aceptantes se cumple que $P=C'$. Para esto tenemos que calcular la primera derivada de la curva de costes de cada tipo empresa, lo hacemos usando el m√©todo diff() de las expresiones de los costes.\nPor ejemplo, la derivada de los costes de las empresas del pa√≠s A son:\n1 2  # descomentar para ver la ayuda. # help(diff)   1 2  coste_marginal_a = costes_a.diff(qa) coste_marginal_a   1 2  coste_marginal_b = costes_b.diff(qb) coste_marginal_b   1 2  coste_marginal_c = costes_c.diff(qc) coste_marginal_c   1 2 3 4  coste_list = [costes_a, costes_b, costes_c] q_list = [qa, qb, qc] pais_list = ['a', 'b', 'c'] coste_marginal_list = [coste_marginal_a, coste_marginal_b, coste_marginal_c]   Lista de costes marginales:\n1  coste_marginal_list   En este punto ya tenemos los costes marginales de la empresas de cada pa√≠s, lo usaremos para hallar la cantidad que se intercambiar√° en el equilibrio. Para ello tenemos que igualar los costes marginales y el precio. Para esto vamos a usar una funci√≥n que nos permite igualar dos expresiones Eq(). Con la igualdad podremos despejar la variable que nos interesa ($P$). Para resolver una equaci√≥n usaremos solve() y por √∫ltimo necesitaremos sustituir el valor de P en la oferta para tener la cantidad. Iremos por partes, primero igualamos $P = C'_a$\n1 2 3  # Descomentar para ver la ayuda. # help(Eq) # help(solve)   1 2  precio_igual_cmg_a = Eq(P, coste_marginal_a) precio_igual_cmg_a   Despejando de la equaci√≥n anterior $q_a$ nos queda $q_a(P)$\n1 2  solucion_a = solve(precio_igual_cmg_a, qa)[-1] solucion_a   Sustituyendo $q_a$ en la oferta total\n1 2  q_oferta_parcial = q_oferta.subs(qa, solucion_a) q_oferta_parcial   Repetimos el proceso con la empresa b, $P = C'_b$\n1 2  precio_igual_cmg_b = Eq(P, coste_marginal_b) precio_igual_cmg_b   Despejamos $q_b$\n1 2  solucion_b = solve(precio_igual_cmg_b, qb)[-1] solucion_b   Sustituimos $q_b$ de la oferta parcial anterior\n1 2  q_oferta_parcial = q_oferta_parcial.subs(qb, solucion_b) q_oferta_parcial   Lo mismo con la √∫ltima empresa $q_c$\n1 2  precio_igual_cmg_c = Eq(P, coste_marginal_c) precio_igual_cmg_c   Despejamos $q_c$\n1 2  solucion_c = solve(precio_igual_cmg_c, qc)[-1] solucion_c   Sustituimos $q_c$ en la oferta parcial anterior\n1 2  q_oferta_parcial = q_oferta_parcial.subs(qc, solucion_c) q_oferta_parcial   1 2 3 4 5 6  # Nota: ese proceso se podria generalizar. # alternativamente lo podemos hacer de forma recursiva con un bucle q_oferta_tmp = q_oferta.copy() for i in range(len(coste_list)): q_oferta_tmp = q_oferta_tmp.subs(q_list[i], solve(Eq(P, coste_marginal_list[i]), q_list[i])[-1]) print(q_oferta_tmp)   En este punto ya tenemos nuestra oferta total que s√≥lo depende de los precios.\n1  q_oferta_final = q_oferta_parcial   1  q_oferta_final   Resolvemos la equaci√≥n anterior y obtenemos $P$\n1 2  precio_equilibrio = solve(Eq(q_dda, q_oferta_final), P)[-1] precio_equilibrio   Sustituyendo $P$ en la oferta final tenemos $Q$\n1 2  q_equilibrio = q_oferta_final.subs(P, precio_equilibrio) q_equilibrio   Como se tiene que cumplir $Q^S = Q^D$\n1  q_dda.subs(P, precio_equilibrio)   Beneficio El beneficio de empresa del pa√≠s $_i$ se puede calcular c√≥mo\n\\begin{equation} \\pi_i = IT - CT\\ \\pi_i = p*q_i - c_i(q_i) \\end{equation}\nNecesitamos conocer la cantidad que produce individualmente cada empresa $q_i$, pero hemos dicho que las empresas son precio-aceptantes, por lo que podemos sustituir el precio que ahora conocemos en la funci√≥n de coste marignal y obtener las cantidades que produce cada empresa.\n1 2  p_igual_cm_a = Eq(precio_equilibrio, coste_marginal_a) p_igual_cm_a   1 2  qa_value = solve(p_igual_cm_a)[-1] qa_value   El beneficio de las empresas del pa√≠s $_a$:\n1 2  pi_a = precio_equilibrio * qa_value - costes_a.subs(qa, qa_value) pi_a   El mismo proceso es el que hay que sesguir con el resto de empresas.\nRESUMEN DE VARIABLES EN EL EQUILIBRIO 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31  n_empresas = [100, 50, 100] q_i = [] Q_i = [] b_i = [] n_i = [] table_fmt = \"\"\" |{sp}Variables \\ Sector{sp}|{sp}a{sp}|{sp}b{sp}|{sp}c{sp}| |:-- |--:|--:|--:| |$q =$ |{q_i}| |$Q =$ |{Q_i}| |$\\pi =$|{b_i}| \"\"\" for i in range(3): qi = solve(Eq(precio_equilibrio, coste_marginal_list[i]), q_list[i])[-1] p_igual_cmg = Eq(precio_equilibrio, coste_marginal_list[i]) b = precio_equilibrio * solve(p_igual_cmg, q_list[i])[-1] - coste_list[i].subs(q_list[i], qi) q_i += [qi] Q_i += [qi*n_empresas[i]] b_i += [b] display( Markdown( table_fmt.format( q_i=\"|\".join(map(str,q_i)), Q_i=\"|\".join(map(str,Q_i)), b_i=\"|\".join(map(str,b_i)), sp=\"\u0026nbsp;\"*4 ) ))   Graficamente Despejamos el precio de la oferta para tener la funci√≥n inversa de demanda:\n1 2  p_oferta = solve(Eq(Q, q_oferta_final), P)[-1] p_oferta   1  p_dda   1 2  limits = (Q, 0, q_equilibrio*1.2) plot(p_dda, p_oferta, limits);   ","description":"","tags":null,"title":"enh(economics): Resolviendo equilibrio en competencia perfecta","uri":"/posts/competencia/"},{"categories":null,"content":"Maximizing Productivity, Physical \u0026 Mental Heathl I‚Äôm a big fan of Huberman and I‚Äôm starting to write down what I‚Äôm learning from his videos (science based).\nLinkt to the video\n Morning light exposure  Description: Getting exposure to bright light in the morning, preferably within the first hour of waking up. Usefulness: Helps regulate circadian rhythms, cortisol secretion, and mood. Example: Walking outside, sitting near a window that receives natural light, using a light box.   Cool and dark bedroom for sleep  Description: Keeping the bedroom cool and dark to aid in falling asleep and staying asleep. Usefulness: Throughout the night, there are phases of sleep where you are paralyzed, so-called REM sleep. There are portions of the night where you can move. And one of the more important movements that you do in the middle of the night is put your hand out or your foot out or you take your face out from under the covers as a means to cool yourself, and you do this while you are asleep. If you are in a cool room, you can put yourself under the blankets to stay warm, and then if you want to cool off, you can simply remove a limb or you can toss the covers off entirely. Example: Keeping the thermostat at a lower temperature, using a fan, covering windows to block out light.   Non-sleep deep rest (NSDR) protocols  Description: Engaging in activities that promote deep relaxation, such as yoga nidra or sleep hypnosis, to help fall back asleep in the middle of the night. Usefulness: Can help shift the mind away from anxiety and reduce rumination, making it easier to fall and stay asleep. Example: Listening to a guided meditation, practicing long exhale breathing, doing gentle yoga poses.   Morning 90-minute work block  Description: Carving out 90 minutes in the morning for focused, dedicated work. Usefulness: Allows for completion of important or demanding tasks early in the day, when cognitive function is typically at its highest. Example: Writing a report, analyzing data, creating a presentation.   Afternoon 90-minute work block after NSDR  Description: Carving out 90 minutes in the afternoon for focused, dedicated work following a period of deep relaxation. Usefulness: Allows for completion of important or demanding tasks later in the day, when cognitive function may start to decline. Example: Responding to emails, making phone calls, preparing for meetings.   Supplements (magnesium, apigenin, theanine)  Description: Taking specific forms of magnesium, apigenin, and theanine to aid in falling asleep. Usefulness: Magnesium promotes the release of GABA, an inhibitory neurotransmitter that shuts off the forebrain, reducing thinking, rumination, and planning. Apigenin and theanine also increase GABA levels and can help reduce anxiety and allow for deeper relaxation. Example: Taking 300-400 mg of magnesium bisglycinate or threonate, 50 mg of apigenin, and 100-200 mg of theanine 30-60 minutes before sleep.   Bright light exposure in the evening  Description: Getting exposure to bright light in the evening to delay the onset of melatonin and shift the circadian rhythm. Usefulness: Can be helpful for individuals who have trouble falling asleep due to a delayed melatonin pulse. Example: Going for a walk outside or using bright indoor lights in the evening.   Regular wake-up and sleep times  Description: Waking up and going to bed at the same time every day. Usefulness: Helps regulate circadian rhythms and promote consistent sleep quality. Example: Waking up at 7 am and going to bed at 11 pm every day.   Weekend drift  Description: Allowing for some schedule variation on the weekends to recover and get additional rest. Usefulness: Can help prevent burnout and promote overall well-being. Example: Sleeping in an extra hour or two on the weekends, engaging in leisure activities, taking a day off from work.   Adaptation to personal profession or lifestyle  Description: Modifying the protocols to fit one‚Äôs own profession or lifestyle. Usefulness: Allows for customization of the protocols to optimize productivity, health, and well-being. Example: If you work a night shift, adjusting the sleep and light exposure protocols to fit your schedule.    ","description":"","tags":null,"title":"enh(health): maximizing productivity, physical and mental health","uri":"/posts/maximizing-productivity/"},{"categories":null,"content":"Seg√∫n un estudio publicado en Cell Reports Medicine, practicar ejercicios de respiraci√≥n durante solo cinco minutos al d√≠a durante un mes puede mejorar el estado de √°nimo y reducir la ansiedad. El estudio encontr√≥ que el suspiro c√≠clico, en particular, fue efectivo para mejorar el estado de √°nimo en comparaci√≥n con la meditaci√≥n de atenci√≥n plena. Los ejercicios de respiraci√≥n tambi√©n pueden afectar la fisiolog√≠a al inducir un estado f√≠sico m√°s relajado y desplazar el equilibrio hacia el sistema parasimp√°tico de descanso y digesti√≥n. Los efectos positivos de la respiraci√≥n tardaron en aparecer, pero cuanto m√°s d√≠as pasaron los participantes haciendo sus ejercicios de respiraci√≥n, mejor se sintieron cada d√≠a sucesivo.\n  Suspiro c√≠clico: inhale lentamente por la nariz para expandir los pulmones, inhale nuevamente para llenar los pulmones al m√°ximo. Luego, exhale lentamente y completamente el aliento por la boca. Este ejercicio es bueno para mejorar el estado de √°nimo y reducir la ansiedad.\n  Respiraci√≥n en caja: pasa la misma cantidad de tiempo inhalando lentamente, conteniendo la respiraci√≥n, exhalando y conteniendo la respiraci√≥n antes de repetir la secuencia. Este ejercicio es bueno para inducir un estado f√≠sico m√°s relajado y desplazar el equilibrio hacia el sistema parasimp√°tico de descanso y digesti√≥n.\n  Hiperventilaci√≥n c√≠clica: tome una inhalaci√≥n profunda por la nariz, exhale pasivamente y luego deje que el aire ‚Äúcaiga fuera de la boca‚Äù. Cada 30 ciclos, mantenga la respiraci√≥n despu√©s de la exhalaci√≥n pasiva durante 15 segundos. Este ejercicio es bueno para inducir actividad parasimp√°tica de autoconsuelo y mejorar el estado de √°nimo.\n  Meditaci√≥n de atenci√≥n plena: enfatice la conciencia de la respiraci√≥n y el cuerpo, en lugar de controlar activamente su respiraci√≥n. Este ejercicio es bueno para inducir un estado f√≠sico m√°s relajado y mejorar el estado de √°nimo.\n  ","description":"","tags":null,"title":"enh(health): Respira!","uri":"/posts/breathing-exercises/"},{"categories":null,"content":"My first vim plugin! Have you ever had the necessity to check a query while you are writing a python wrapper? If so, this post is for you.\nMany times I have had the necessity of checking a query while I‚Äôm writing , debugging or testing a function. That‚Äôs why I wrote my first vim (well, actually a nvim) plugin called dbee.nvim.\nMy use case I have a virtual environment with SQLAlchemy and others Python dependencies, and then I want to check a query from my project. So, I have to open DBeaver, or another SQL client, copy-paste the query there and see the result. This process can be very annoying.\nWhy do I have to open an external program when I already have all that I need in my virtual environment?\nThe idea is to define an engine using SQLAlchemy with a connection string, and then through pandas fetch the data using that engine. Pretty simple, isn‚Äôt it?\nInstallation If you want to use it, add the following in your vimrc:\nPlug 'mmngreco/dbee.nvim' I‚Äôm using the following maps:\nvnoremap \u003cC-q\u003e :DBeeQuery\u003ccr\u003e vnoremap \u003cC-c\u003e\u003cC-c\u003e :DBeeSetConnection\u003ccr\u003e\u003ccr\u003e Example Let‚Äôs suppose that we are writing the following python function:\n1 2 3 4 5 6 7 8 9 10  def get_titles(): cn_str = \"sqlite:////home/mgreco/gitlab/mmngreco/dbee.nvim/tests/chinook.db\" engine = sa.create_engine(cn_str) conn = engine.connect() qry = \"\"\" SELECT title FROM albums; \"\"\" out = pd.read_sql(qry, conn) return out   We can setup our connection by going to the line where cn_str is and select the content inside the quotes and executing :'\u003c,'\u003eDBeeSetConnection. This will print out the following message: Configurated sqlite:////home/mgreco/gitlab/mmngreco/dbee.nvim/tests/chinook.db, after that we are ready to make queries to that database.\nNow, we are ready to select the query inside the quotes and call to :'\u003c,'\u003eDBeeQuery. This should open a new temporary buffer with the connection string, the selected query and the output fetched from it. You can easily close the buffer by pressing Q.\nI hope you will find this useful too. You can check it out here , your feedback is welcome, feel free to open an issue ;-)\n","description":"","tags":null,"title":"enh(vim,plugin): I wrote my first vim plugin","uri":"/posts/dbee-nvim/"},{"categories":null,"content":"No escribes unittests? YT video de ThePrimeagen vs Theo discutiendo sobre pros and cons de escribir unittest üëá\n LINK VIDEO  Highlights  (Theo) Get the wrong code as fast as possible. (Theo) Communication is better than tests for moving faster. (Theo) There will always be edge cases not covered. (Theo) I hate unit test as demostration of how the code works or how to be used. (Theo) People writes too many unit tests. (Prime) Unittest are good for remembering the history of the project. (Prime) Codebase without unittest doesn‚Äôt scale.  Mi Opini√≥n  Theo tiene puntos validos pero creo que est√° overfitteado a su producto/empresa/cultura. Me parece que ese tipo de programaci√≥n genera mas dependencias debido a que todo el mundo tiene que tener todo en la cabeza; de alguna forma unit test es una forma de dejar un recordatorio de un error pasado que no quieres que se repita. No todo el mundo est√° c√≥modo con este tipo de desarrollo. Quiz√° estoy pecando de ingenuo pero tengo la intuici√≥n de que el estilo Theo es mas susceptible a reptir los errores del pasado.  ","description":"","tags":null,"title":"qst(unittest): No escribes unit tests?","uri":"/posts/you-dont-unitest/"},{"categories":null,"content":"Switching between tmux session efficiently In a nutshell, I‚Äôve created ~/.local/bin/tmux-fzf-session and give it execution permissions (sudo chmod +x ~/.local/bin/tmux-fzf-session), with the following content:\n1 2 3 4 5 6  #!/usr/bin/env bash # inspired by: # https://stackoverflow.com/questions/51780445/how-can-i-see-a-preview-of-a-tmux-session-window-from-outside-of-tmux # https://github.com/sainnhe/tmux-fzf/blob/master/scripts/.preview selected=$(tmux list-sessions -F \"#{session_name}\" 2\u003e/dev/null | fzf --exit-0 --preview='tmux capture-pane -ep -t {}') tmux switch-client -t \"$selected\"   Then, In my tmux.conf, I‚Äôve added the following to create the tmux shortcut:\n1  bind s display-popup -E -w 50% -h 50% \"tmux-fzf-session\"   tmux-fzf-session explained First of all we need to list all ours tmux sessions which can be done with this command:\ntmux list-sessions -F \"#{session_name}\" 2\u003e/dev/null\nSecond, We pipe the output to fzf:\nfzf --exit-0 --preview='tmux capture-pane -ep -t {}'\nThird, the session preview is getting by:\ntmux capture-pane -ep -t {}\nDone!\n","description":"","tags":null,"title":"enh(tmux): How to improve tmux session switching","uri":"/posts/tmux-fzf-session/"},{"categories":null,"content":"Notas sobre el Salario M√≠nimo Interprofesional (SMI) Art√≠culo original de Econstuff\nA√∫n circulan por la red cosas como √©stas:  Francia subir√° el IVA al 21,2 . Lo ten√≠an al 19,6 . Nosotros lo tenemos al 18. SALARIO M√çNIMO: Francia 1321 , Espa√±a 600. HAHAHAHAHAHAHAHAHA\n‚Äî Verg√ºenza de Pa√≠s (@VERGUENZADEPAIS) enero 30, 2012\nEl salario m√≠nimo en Francia es de 1.356‚Ç¨ (son ricos) En Grecia, de 739‚Ç¨ (son pobres) Y, en Espa√±a, de 641‚Ç¨ (directamente, somos GILIPOLLAS)\n‚Äî David Bonilla (@david_bonilla) enero 11, 2012\n En un sentido estricto, estas afirmaciones no son correctas -por un tema de pagas anuales, que no est√°n estandarizadas-, aunque puede que nos os convenza dado que poco cambia las conclusiones, s√≠ que es interesante cuando se busca usar los datos lo correctos. Por lo que os recomiendo esto: Una mentira retuiteada mil veces no se convierte en una verdad.\nPues como veis, hoy voy a hablar del **Salario M√≠nimo Interprofesional (**SMI). Se trata de una pol√≠tica de bienestar introducida en Espa√±a en 1963, ha evolucionado en sus caracter√≠sticas hasta como lo conocemos hoy d√≠a. Se define como la retribuci√≥n que debe recibir un trabajador independientemente de cualquier caracter√≠stica del mismo (sexo, tipo de contrato, productividad, edad, cualificaci√≥n, etc.) de forma que cualquier retribuci√≥n por debajo de √©sta se considera ilegal y sancionable. Con esta medida se quiere reivindicar los derechos de los trabajadores y sus familias a tener un m√≠nimo de calidad de vida (mas info aqu√≠). Muchos desconocen que el objetivo del SMI es que llegue a representar el 60% del salario medio [1]. Por lo dicho al principio siempre me ha parecido que se ha estado atacando de forma injustificada la diferencia existente con pa√≠ses como Luxemburgo y dem√°s. Ahora, me lo sigue pareciendo, pero tras informarme debidamente me lo parece un poco menos.\n¬øQue nos dice la teor√≠a? Si el mercado de trabajo funciona **bajo las hip√≥tesis b√°sicas deseables (**competencia perfecta, racionalidad, movilidad del factor trabajo perfecta, flexibilidad de salarios y precios, trabajo homog√©neo, etc‚Ä¶) tenemos una oferta de trabajo (OL; Trabajadores) y una demanda de trabajo (DL; Empresas). √âstas se cortar√°n en un punto, el de equilibrio. Al introducir un salario m√≠nimo (SM), tenemos dos posibilidades, que est√© por encima (Wmin1) del punto de equilibrio o por debajo (Wmin2).\nEn el gr√°fico se aprecia perfectamente, en teor√≠a, que un SM por encima del equilibrio (W*) crea una distorsi√≥n en el mercado haciendo que el trabajo demandado (L1, Empresas) sea menor al de equilibrio (L*), para Wmin1 provocando un exceso de oferta de trabajo. Si por el contrario el SM est√° por debajo del equilibrio (Wmin2), vemos que no afecta en absoluto al equilibrio ya que es un salario m√≠nimo y el equilibrio est√° por encima (W*,L*).\nEn el gr√°fico se aprecia perfectamente, en teor√≠a, que un SM por encima del equilibrio (W*) crea una distorsi√≥n en el mercado haciendo que el trabajo demandado (L1, Empresas) sea menor al de equilibrio (L*), para Wmin1 provocando un exceso de oferta de trabajo. Si por el contrario el SM est√° por debajo del equilibrio (Wmin2), vemos que no afecta en absoluto al mercado ya que es un salario m√≠nimo y el equilibrio est√° por encima (W*,L*).\n ‚ÄúUn SMI superior al equilibrio genera un exceso de oferta de trabajo cuyos efectos son aumento del desempleo, bajada de salarios, inflaci√≥n, etc.\nUn SMI menor que el equilibrio no afecta en absoluto al mercado.‚Äù\n Ahora acerc√°ndonos un poco mas a la realidad, en el gr√°fico de arriba he representado dos mercados de trabajo, el **cualificado (**OLc) y **no cualificado (**OLnc). Aqu√≠ vemos que algunas caracter√≠sticas, como por ejemplo que los cualificados tienen un salario de reserva mayor que los no cualificados [2]. Lo m√°s caracter√≠stico de esta situaci√≥n es que el salario m√≠nimo afecta principalmente a los trabajadores no cualificados mientras que deja indiferentes a los cualificados.\n ‚ÄúEl salario m√≠nimo afecta principalmente a los trabajadores no cualificados mientras que deja indiferentes a los cualificados.‚Äù\n En este caso, suponiendo que el mercado se encuentra en equilibrio y que el salario m√≠nimo es igual al de equilibrio (Wmin=W*) con una misma oferta laboral (OL), ante un shock en la demanda de trabajo (aumento del desempleo causada por una recesi√≥n, por ejemplo, se produce una disminuci√≥n de la demanda: pasando de DL a DL‚Äô) vemos el efecto perverso que tiene el SM en el mercado, y por tanto en la econom√≠a, ya que de no existir el SM (Wmin), el salario que marca el mercado para una demanda laboral igual a DL‚Äô ser√≠a W1 (menor que Wmin) y el nivel de empleo seria L1* (mayor que L1). Por tanto tenemos que ante una disminuci√≥n de la demanda de trabajo (DL‚Äô; Empresas) el SM agrava el problema acus√°ndolo m√°s a√∫n.\n ‚ÄúSi la demanda de trabajo disminuye, p.e. causada por una recesi√≥n, el SMI afecta negativamente a la econom√≠a (el empleo)‚Äù\n Hemos visto que los efectos del SM son negativos cuando se fija por encima del salario de equilibrio: Por un lado tenemos que castigamos a los trabajadores no cualificados y por otro la dependencia de la actividad econ√≥mica repercute, en este caso, negativamente sobre el nivel de empleo.\nEvidencias emp√≠ricas del SMI en Espa√±a:  Seg√∫n un estudio de Juan Jos√© Dolado, el SMI s√≥lo afecta alrededor del 5 o 6% de los asalariados, (como apunte esto le descarta del comportamiento deficiente del mercado laboral).\n En el segmento de adolescentes, se aprecia una relaci√≥n negativa entre el SMI y el empleo, de forma que un aumento del 10% en el SMI provoca una disminuci√≥n del 2% en el empleo de este segmento, esta relaci√≥n se hace m√°s fuerte a partir de 1990.\nEn los mayores de 18 a√±os el efecto sobre el empleo es nulo, esto puede deberse a factores como la econom√≠a sumergida o el suelo salarial de la negociaci√≥n colectiva que hace que sea, generalmente, distinto al SMI.\nSobre los perceptores del SMI, √©ste incide cada vez menos sobre trabajadores j√≥venes y sin experiencia y cada vez mas en adultos, sobre todo mujeres con contratos temporales.\nEl estudio concluye que dado el no cumplimiento de la normativa legal y la ausencia de efectos positivos del SMI sobre el trabajo hace que sea un riesgo para la econom√≠a modificarlo al alza.\n ‚ÄúEl SMI afecta negativamente a los trabajadores adolescentes. En mayores de 18 a√±os el efecto es nulo. El perfil de beneficiarios de la medida son: adultos, mujeres con contratos temporales.‚Äù\n Otro estudio de Inmaculada Cebri√°n y otros, coincide en esos puntos. Tal y como vimos en la primera parte te√≥rica, la fijaci√≥n de un salario m√≠nimo superior al de equilibrio afecta negativamente al empleo, esto es mas probable en j√≥venes no cualificados; en este aspecto la productividad juega un papel importante ya que si se produce un aumento del SMI por encima del incremento de la productividad de este segmento lo mas probable es que las empresas sustituyan a estos trabajadores j√≥venes no cualificados por trabajadores cualificados, aunque el salario sea mayor (mayor productividad), sin embargo dice el estudio que depende del contexto econ√≥mico (como ya vimos antes).\n ‚ÄúEs mas probable que el SMI afecte negativamente a j√≥venes no cualificados, ya que ante incrementos en el SMI las empresas son mas susceptibles a sustituirlos por cualificados.‚Äù\n En general concluye este estudio, que **los efectos de un aumento del SMI son peque√±os (**algunos negativos pero el resto insignificantes). Tambi√©n se menciona que es dif√≠cil de predecir que pasar√≠a si el IK [1] alcanzase el 60%, teniendo en cuenta que en la actualidad se encuentra ligeramente por encima del 42%, ya que supondr√≠a un cambio de gran impacto de car√°cter estructural.\nEl gr√°fico nos muestra que desde su implementaci√≥n, la tasa de cobertura del SMI (√çndice de Kaitz) en 1963 (el actual objetivo) lleva una tendencia claramente decreciente, se pone en evidencia el **deterioro en t√©rminos relativos (salario medio) y reales (**poder adquisitivo; gr√°fico 3), adem√°s vemos que su incidencia se va reduciendo, ver el gr√°fico 15, siendo una referencia para s√≥lo una peque√±a poblaci√≥n trabajadora.\nLa negociaci√≥n colectiva tambi√©n se ve afectada por los efectos del SMI, ya que se encuentran muy ligados (el SMI se usa como base en las negociaciones y por tanto es normal que se pacten salarios superiores al √©ste), y puede provocar un efecto cascada sobre el resto de salarios. De esta forma, un aumento del SMI para mejorar las condiciones de las categor√≠as laborales mas bajas provocan un aumento general (n√≥tese que tambi√©n aumenta el salario medio lo que reduce la tasa de cobertura del SMI).\n ‚Äúun aumento del SMI para mejorar las condiciones de las categor√≠as laborales mas bajas provocan un aumento general‚Äù\n Una estimaci√≥n que realiza el estudio valorando los posibles efectos sobre el empleo de una subida del salario m√≠nimo de 600 a 800 euros al menos en el per√≠odo 2008-2012, cumpliendo el programa del Gobierno. Supone una subida del SMI del 33,33% en cuatro a√±os. El estudio afirma que dados los datos esta medida generar√≠a una reducci√≥n del empleo de 3,8% en el conjunto de los cuatro a√±os, factores que afectan al empleo de las empresas _ceteris paribus (_suponiendo constante el resto de variables que puedan afectar). Esa reducci√≥n no es muy fuerte y puede verse compensada por aumentos en la productividad o por el contrario acentuada por la coyuntura econ√≥mica.\n ‚ÄúUna subida del SMI de 600 a 800‚Ç¨ generar√≠a una reducci√≥n del empleo de 3,8%, d√©bil aunque puede verse matizada por otros factores indirectos.‚Äù\n Reflexiones: Se podr√≠a pensar que los efectos negativos se√±alados no son de gran magnitud, pero ¬øque pasa con la distribuci√≥n de la renta? El trabajo de Berstein y Smith (1998) concluye que los efectos son positivos pero el de Neumark et al. (2006) dice que son nulos o negativos. Por tanto no hay una conclusi√≥n clara al respecto, bajo mi punto de vista la diferencia en las conclusiones de los estudios reside en el marco institucional y las regulaciones de los pa√≠ses analizados, de modo que con una buena planificaci√≥n podr√≠a mejorarse. Ahora bien, yo me pregunto, si no hay evidencia a favor y si muchas dudas en contra: ¬øEst√° justificado la vigencia de esta medida?\nEn econom√≠a nos meten en la cabeza que que el salario es un indicador deproductividad, para m√≠, esto es una falacia. Porque como hemos visto, el salario tiene mucho que ver con factores externos a la productividad como pueden ser la regulaci√≥n, negociaci√≥n colectiva, inflaci√≥n, etc. y poco con el avance tecnol√≥gico, inversi√≥n en capital humano y f√≠sico.\nEs l√≥gico que la gente quiera cobrar m√°s, lo que no lo es, es la justificaci√≥n que se suele dar. Yo veo injusto que un trabajador vea aumentado su salario s√≥lo por el hecho que haya inflaci√≥n, cuando es muy probable que ese aumento no se lo haya ‚Äúganado‚Äù (con un aumento de la productividad) sino que simplemente se lo hayan subido a un sector y se produzca un efecto cascada, aqu√≠ tambi√©n tiene mucho sentido la teor√≠a Balassa-Samuelson pero lo dejar√© para m√°s adelante.\n Recordar: Si os ha gustado pod√©is decirlo en lo comentarios o compartiendo en por las redes, si ten√©is dudas o una opini√≥n diferente no lo dud√©is comentar. ¬°we ‚ô• feedback!\n P.D. Me habr√≠a gustado una comparaci√≥n a nivel europeo pero se escapa a mi posibilidades, si alguien tiene a mano los datos de Europa que me lo diga y hago una comparaci√≥n encantado.\nComo curiosidad que dejo para analizar en un pr√≥ximo post son las consecuencias de la introducci√≥n de un SMI europeo. Aunque ya ten√©is las herramientas para saber por donde van a ir los tiros. http://kcy.me/vkkv\n[1] √çndice de Kaitz (IK): Es el cociente entre el SM y el salario medio. El objetivo del gobierno pactado en La Carta Social Europea es que el SMI represente el 60% del salario medio. Pasando en 2008 de 600‚Ç¨ a 800‚Ç¨ (14 pagas anuales) en 2012, es decir un IK=0,6.\n[2] El Salario de reserva es el m√≠nimo salario al que los trabajadores estar√≠an dispuestos a ofrecer trabajo en el mercado laboral.\n","description":"","tags":null,"title":"enh(economics): Notas sobre el SMI","uri":"/posts/notas_smi/"}]
